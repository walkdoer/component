<!doctype html>
<html lang="en">
<head>
    <title>UC App Store</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=no;" />
    <meta name="MobileOptimized" content="320"/>
    <link rel="stylesheet" type="text/css" href="css/style.min.css"><!doctype html>
</head>
<body>
<!--============
   {Page} 用户首屏页面
  ==============-->
<div id="welcome-page" class="welcome-msg"><span class='processing'></span>Loading App...</div>

<!--===============================
    {Component} Index Header Template (首页头部模板) 
   =============================-->
<script type="text/template" id="tpl-top-nav">
<header class="top-nav">
    <!-- LOGO -->
    <p class="logo">
        <span class="h-t">Add your favourite sites</span>
        <span class="h-btn"><i class="icn">Add URL</i></span>
    </p>
</header>
</script>
<!--==============================
   {Component} Index Tab Template (首页Tab模板)
 ===============================-->
<script type="text/template" id="tpl-tab">
<div class="tab">
    <!-- Tab Navigator -->
    <ul class="n-ul">
        <li class="n-u-l" data-target="recommend">Recommend</li>
        <li class="n-u-l" data-target="category">Categories</li>
    </ul>
    <!-- Tab Content-->
    <div class="tab-cont">
        <div class="pane recommend"></div>
        <div class="pane category"></div>
    </div>
</div>
</script>
<!--====================================
   {Component} Category Detail Top Bar(父类详情页顶部栏)
==============================-->
<script type="text/template" id="tpl-bar-top">
<header class="top-bar">
    <div class="b-btn-back"></div>
    <div class="b-title"></div>
</header>
</script>
<!--=========================
    {Component} App LIST （应用列表）
   ==========================-->
<script type="text/template" id="tpl-list-app" >
<div data-empty="no apps" data-loading="<span class='processing'></span>loading">
    <p class="list-msg"></p>
    <ul class="app-list clearfix recommed"></ul>
</div>
</script>
<!--========================
      {Component} App Item (应用)
   =========================-->
<script type="text/template" id="tpl-item-app">
<li class="app" data-icon="<%=data.logoUrl%>" data-id="<%=data.id%>" data-name="<%=data.name%>" data-url="<%=data.url%>">
    <!-- 插件图标 -->
    <div class="icn"></div>
    <!-- 插件详细信息 -->
    <div class="meta">
        <p class="title"><%=data.name%></p>
        <!-- 描述 -->
        <p class="desc"><%=data.des%></p>
    </div>
    <!-- 安装按钮（已安装/未安装） -->
    <div class="btn"><span class="<%=(data.installed ? 'installed' : 'install')%>"></span></div>
</li>
</script>
<!--==========================
    {Component} Category List (类别列表模板)
   ============================-->
<script type="text/template" id="tpl-list-category">
<div data-empty="no category" data-loading="<span class='processing'></span>loading">
    <p class="list-msg"></p>
    <ul class="cate-list clearfix"></ul>
</div>
</script>
<!--======================
    {Component} Category Item (应用分类)
   =======================-->
<script type="text/template" id="tpl-item-category">
<li class="cate" data-icon="<%=data.logoUrl%>" data-info="<%=[data.id, data.name].join(':')%>">
    <!-- 插件详细信息 -->
    <div class="wrapper">
        <div class="meta">
            <p class="title"><%=data.name%></p>
            <!-- 描述 -->
            <p class="desc"><%=data.represent%></p>
        </div>
        <!-- 插件图标 -->
        <div class="icn"></div>
    </div>
</li>
</script>
<!--==========================
    {Component} Load Button (加载按钮)
   ============================-->
<script type="text/template" id="tpl-btn-loadmore">
<p class="btn-load-more" data-fail="load fail,try again." data-done="load more" data-loading="<span class='processing'></span>loading">
    <span class="btn-text">load more</span>
</p>
</script>
<!--==============
   {Component} 添加Url
================= -->
<script type="text/template" id="tpl-url-adder">
<form class="urlAdder form-add">
    <div class="top-bar">
        <span class="b-btn-cancel cancel">Cancel</span>
        <button type="submit" class="b-btn-ok submit">Ok</button>
        <p class="b-title-center">Add Url</p>
    </div>
    <div class="form-fields">
        <p class="inputbox" id="field-url">
            <label class="ipb-label" for="url">Url</label>
            <input type="text" id= "url" class="ipb-input" name="url" required/>
            <i class="clear">&times;</i>
        </p>
        <p class="inputbox" id="field-name">
            <label class="ipb-label" for="name">Name</label>
            <input type="text" id="name" class="ipb-input" name="name" required/>
            <i class="clear">&times;</i>
        </p>
    </div>
</form>
</script>
<!--====================================
   {Component} InputHistory 输入历史组件
   =================================== -->
<script type="text/template" id="tpl-input-history">
<ul class="input-history"></ul>
</script>
<script type="text/template" id="tpl-input-history-item">
<li class="input-history-item" data-name="<%=data.name%>"><%=data.url%></ul>
</script>


<!-- <script src="http://jsconsole.com/remote.js?BB79A4CB-66F9-401B-81EF-34C44AAC8AF9"></script> -->
<script src="js/appStore.min.js"></script>
<script>
seajs.config({
    alias: {
        'zepto': 'lib/zepto.min.js'
    }
});

seajs.use('app', function (app) {
    var prefix = 'http://appstorei.test.uae.uc.cn/';
    var app = app.init({
        name: '插件平台国际版',
        parent: document.body,
        beforeLoad: '#welcome-page', //加载中提示
        jsonp: true,
        /*simulator: {
            ua: 'usa',
            ve: '8.0.1.123',
            la: 'en'
        },
        api: {
            'recommend': 'Recommend/list',
            'category': 'Category/index',
            'apps': 'Category/list',
            'addUrl': prefix + 'add_app'
        },*/
        api: {
            'recommend': prefix + 'Recommend/getRecommendApps',
            'category': prefix + 'Category/getCategories',
            'apps': prefix + 'Category/getCategoryApps',
            'addUrl': prefix + 'add_app'
        },
        defaultRoute: '/index/recommend',
        pages: {
            '/index/:tab': {},
            '/category/:cat': {}
        }
    });
});
</script>
</body>
</html>